{"version":3,"sources":["mainScript.js"],"names":["images","document","imagesTotalCount","length","imagesLoadCount","percentDisplay","querySelector","preloader","i","imageClone","Image","onload","imageLoaded","onerror","src","innerHTML","setTimeout","classList","contains","add"],"mappings":"AAAA,aAmCA,IARA,IACAA,OAAAC,SAAAD,OACAE,iBAAAF,OAAAG,OACAC,gBAAA,EACAC,eAAAJ,SAAAK,cAAA,wBACAC,UAAAN,SAAAK,cAAA,cAGAE,EAAA,EAAAA,EAAAN,iBAAAM,IAAA,CAEA,IAAAC,WAAA,IAAAC,MAEAD,WAAAE,OAAAC,YACAH,WAAAI,QAAAD,YACAH,WAAAK,IAAAd,OAAAQ,GAAAM,IAGA,SAAAF,cAEAR,kBACAC,eAAAU,WAAA,IAAAb,iBAAAE,iBAAA,GAAA,IAEAF,kBAAAE,iBACAY,WAAA,WACAT,UAAAU,UAAAC,SAAA,SACAX,UAAAU,UAAAE,IAAA,SAEA","file":"scripts.min.js","sourcesContent":["'use strict';\n\n/*----preloader---*/\n\n// ВАРИАНТ №1\n// в html закоментить <!--<div class=\"preloader__percents\">0 %</div>-->\n// данная версия не показывает процент загрузки\n// отключается, через 1 секунду, после того, как страница будет загружена\n\n/*\nwindow.addEventListener('load', function () {\n\n    setTimeout(function () {\n        let preloader = document.querySelector('.preloader');\n\n        if (!preloader.classList.contains('done')){\n            preloader.classList.add('done')\n        }\n    }, 1000)\n\n}); // load\n*/\n\n// ВАРИАНТ №2\n// с процентной загрузкой\n// отслеживается загрузка картинок\n\nlet\n    images           = document.images,\n    imagesTotalCount = images.length,\n    imagesLoadCount  = 0,\n    percentDisplay   = document.querySelector('.preloader__percents'),\n    preloader        = document.querySelector('.preloader');\n\n// перебираем все изображения\n    for (let i = 0; i < imagesTotalCount; i++){\n        // создаем клон изображений\n        let imageClone = new Image();\n        // imageLoaded() будет вызвана, когда все изображения загрузятся\n        imageClone.onload = imageLoaded;\n        imageClone.onerror = imageLoaded;\n        imageClone.src = images[i].src;\n    }\n\nfunction imageLoaded() {\n    // imageLoaded() отвечает за то, что бы увеличить кол общих загруженных изображений, рассчитать % и вывести на страницу, затем скрыть прелоадер\n    imagesLoadCount++;\n    percentDisplay.innerHTML = (((100 / imagesTotalCount) * imagesLoadCount) << 0) + '%';\n\n    if(imagesLoadCount >= imagesTotalCount){\n        setTimeout(function () {\n            if (!preloader.classList.contains('done')){\n                preloader.classList.add('done')\n            }\n        }, 1000)\n    }\n} // imageLoaded()\n\n\n\n\n"]}